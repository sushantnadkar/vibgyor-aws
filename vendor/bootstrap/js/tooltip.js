/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.1.5
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("popper.js")):"function"==typeof define&&define.amd?define(["popper.js"],t):e.Tooltip=t(e.Popper)}(this,function(e){"use strict";function t(e){var t={};return e&&"[object Function]"===t.toString.call(e)}e=e&&"default"in e?e["default"]:e;var i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},s=function(){var e=this;this.show=function(){return e._show(e.reference,e.options)},this.hide=function(){return e._hide()},this.dispose=function(){return e._dispose()},this.toggle=function(){return e._isOpen?e.hide():e.show()},this.arrowSelector=".tooltip-arrow, .tooltip__arrow",this.innerSelector=".tooltip-inner, .tooltip__inner",this._events=[],this._setTooltipNodeEvent=function(t,i,n,o){var r=t.relatedreference||t.toElement,s=function n(r){var s=r.relatedreference||r.toElement;e._tooltipNode.removeEventListener(t.type,n),i.contains(s)||e._scheduleHide(i,o.delay,o,r)};return!!e._tooltipNode.contains(r)&&(e._tooltipNode.addEventListener(t.type,s),!0)}};return function(){function a(e,t){i(this,a),s.call(this),t=o({},r,t),e.jquery&&(e=e[0]),this.reference=e,this.options=t;var n="string"==typeof t.trigger?t.trigger.split(" ").filter(function(e){return-1!==["click","hover","focus"].indexOf(e)}):[];this._isOpen=!1,this._setEventListeners(e,n,t)}return n(a,[{key:"_create",value:function(e,i,n,o){var r=window.document.createElement("div");r.innerHTML=i.trim();var s=r.childNodes[0];s.id="tooltip_"+Math.random().toString(36).substr(2,10),s.setAttribute("aria-hidden","false");var a=r.querySelector(this.innerSelector);if(1===n.nodeType)o&&a.appendChild(n);else if(t(n)){var u=n.call(e);o?a.innerHTML=u:a.innerText=u}else o?a.innerHTML=n:a.innerText=n;return s}},{key:"_show",value:function(t,i){if(this._isOpen)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var n=t.getAttribute("title")||i.title;if(!n)return this;var r=this._create(t,i.template,n,i.html);t.setAttribute("aria-describedby",r.id);var s=this._findContainer(i.container,t);this._append(r,s);var a=o({},i.popperOptions,{placement:i.placement});return a.modifiers=o({},a.modifiers,{arrow:{element:this.arrowSelector}}),i.boundariesElement&&(a.modifiers.preventOverflow={boundariesElement:i.boundariesElement}),this.popperInstance=new e(t,r,a),this._tooltipNode=r,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var e=this;return this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this._events.forEach(function(t){var i=t.func,n=t.event;e.reference.removeEventListener(n,i)}),this._events=[],this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,i){var n=this,o=[],r=[];t.forEach(function(e){switch(e){case"hover":o.push("mouseenter"),r.push("mouseleave");break;case"focus":o.push("focus"),r.push("blur");break;case"click":o.push("click"),r.push("click")}}),o.forEach(function(t){var o=function(t){!0!==n._isOpen&&(t.usedByTooltip=!0,n._scheduleShow(e,i.delay,i,t))};n._events.push({event:t,func:o}),e.addEventListener(t,o)}),r.forEach(function(t){var o=function(t){!0!==t.usedByTooltip&&n._scheduleHide(e,i.delay,i,t)};n._events.push({event:t,func:o}),e.addEventListener(t,o)})}},{key:"_scheduleShow",value:function(e,t,i){var n=this,o=t&&t.show||t||0;window.setTimeout(function(){return n._show(e,i)},o)}},{key:"_scheduleHide",value:function(e,t,i,n){var o=this,r=t&&t.hide||t||0;window.setTimeout(function(){if(!1!==o._isOpen&&document.body.contains(o._tooltipNode)){if("mouseleave"===n.type){if(o._setTooltipNodeEvent(n,e,t,i))return}o._hide(e,i)}},r)}}]),a}()});